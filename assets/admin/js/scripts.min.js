"use strict";function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(s){var l=s.i18n.__,e=s.blocks.registerBlockType,o=s.serverSideRender,c=s.blockEditor.useBlockProps,t=s.element,n=t.Fragment,a=t.createElement,i=s.components,r=i.SelectControl,u=(i.TextControl,i.PanelRow),d=i.PanelBody,t=s.data.withSelect,i=s.compose.compose,p=s.editor.InspectorControls,b=i(t(function(e,t){return{posts:e("core").getEntityRecords("postType","linked_events_config",{orderby:"title",order:"asc",per_page:100,status:"publish"})}}))(function(t){var n=[];return t.posts?(n.push({value:0,label:l("Select configuration","helsinki-linkedevents")}),t.posts.forEach(function(e){n.push({value:e.id,label:e.title.rendered})})):n.push({value:0,label:l("Loading","helsinki-linkedevents")}),a(r,{label:l("Events configuration","helsinki-linkedevents"),value:t.attributes.configID,onChange:function(e){t.setAttributes({configID:e})},options:n})});function h(e){return a(p,{},a(d,{title:l("Settings","helsinki-linkedevents"),initialOpen:!0},a(u,{},a(b,e))))}function f(e){return e.isSelected?a("div",c(),a("div",{className:"helsinki-events events"},a("div",{className:"hds-container"},(i=e,r={placeholder:l("This is the title","hds-wp"),titleAttribute:"title",className:"events__title"},s.element.createElement(s.blockEditor.RichText,{tagName:"h2",className:r.className||"content__heading",value:r.titleAttribute?i.attributes[r.titleAttribute]:i.attributes.contentTitle,onChange:function(e){i.setAttributes(r.titleAttribute?_defineProperty({},r.titleAttribute,e):{contentTitle:e})},allowedFormats:[],placeholder:r.placeholder||s.i18n.__("Title","helsinki-linkedevents")})),(t=e,n={placeholder:l("This is the excerpt.","hds-wp"),className:"events__excerpt"},s.element.createElement(s.blockEditor.RichText,{tagName:"p",className:n.className||"content__text",value:n.textAttribute?t.attributes[n.textAttribute]:t.attributes.contentText,onChange:function(e){t.setAttributes(n.textAttribute?_defineProperty({},n.textAttribute,e):{contentText:e})},placeholder:n.placeholder||s.i18n.__("Excerpt","helsinki-linkedevents")})),a(o,{block:"helsinki-linkedevents/grid",attributes:_objectSpread(_objectSpread({},e.attributes),{},{isEditRender:!0})})))):a("div",c(),a(o,{block:"helsinki-linkedevents/grid",attributes:_objectSpread({},e.attributes)}));var t,n,i,r}e("helsinki-linkedevents/grid",{apiVersion:2,title:l("Helsinki - Events","helsinki-linkedevents"),category:"helsinki-linkedevents",icon:"calendar-alt",keywords:[l("events","helsinki-linkedevents"),"linked events","Helsinki - Events Grid"],supports:{html:!1,anchor:!0},attributes:{configID:{type:"string",default:0},title:{type:"string",default:""},contentText:{type:"string",default:""},anchor:{type:"string",default:""},isEditRender:{type:"boolean",default:!1}},edit:function(e){return a(n,{},h(e),f(e))}})}(window.wp);